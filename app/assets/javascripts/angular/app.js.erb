var app = angular.module('wdi12-final-project', ['ui.router', 'ng-token-auth', 'ui.bootstrap']);

app.config(["$stateProvider", "$urlRouterProvider", "$authProvider", function($stateProvider, $urlRouterProvider, $authProvider) {
  $urlRouterProvider.otherwise("/");

  $stateProvider

  .state({
    name: 'header',
    abstract:true,
    templateUrl: "<%= asset_path('header/index.html') %>",
    controller: 'HeaderCtrl'
  })
  .state({
    name: 'header.index',
    url: '/',
    templateUrl: "<%= asset_path('main/index.html') %>",
    controller: 'IndexCtrl'
  })

  .state({
    name: "header.signup",
    url: "/signup",
    templateUrl: "<%= asset_path('auth/signup.html') %>",
    controller: 'SignUpCtrl'
  })

  .state({
    name: "header.home",
    url: "/home",
    templateUrl: "<%= asset_path('main/home.html') %>",
    controller: 'HomeCtrl'
  });

  $authProvider.configure({
    // By default, you only need to configure apiUrl
    // Note that if you put a '/' at the end of the link, there will be errors when calling the api
    apiUrl: 'http://localhost:3000'
  });
}]);